/* Button */// Create the tabs wrapper - The el is passed through when intantiated.
nzp.TabView=Backbone.View.extend({initialize:function(){_.bindAll(this,"render");this.tabtype=this.options.tabtype},render:function(){this.collection.each(function(e){var t=new nzp.SingleTabView({model:e,parentview:this.tabtype});this.$el.append(t.render().el)},this);return this}});nzp.SingleTabView=Backbone.View.extend({tagName:"li",events:{"click a":"clicked"},initialize:function(){_.bindAll(this,"render");this.model.bind("change:highlighted",this.highlight,this);this.render()},clicked:function(e){var t=this;e.preventDefault();if(this.options.parentview=="travelroute"){var n=this.model.get("slug").toUpperCase();nzp.calcRoute(n)}if(this.options.parentview==="allmarkers"){nzp.infoWindow.close();this.$el.hasClass("tab-current")||nzp.calcMarkers(this.model.get("title"))}this.model.collection.each(function(e){e==t.model?e.set("highlighted",!0):e.set("highlighted",!1)})},highlight:function(){this.model.get("highlighted")?this.$el.addClass("tab-current"):this.$el.removeClass("tab-current")},render:function(){var e=_.template("<a href='#' class='<% print(slug); %>'><span><% print(title); %></span></a>"),t=e({slug:"tab-"+this.model.toJSON().slug,title:this.model.toJSON().title});this.$el.html(t);return this}});